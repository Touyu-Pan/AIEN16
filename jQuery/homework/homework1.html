<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Homework 1</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" 
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" 
    crossorigin="anonymous">
    <style>
        figure{
            width:20%;
            border: 2px solid transparent;
            margin: 4px;
        }
        figure img{
            width: 100%;
        }
</style>
</head>
<body>
<div class="container">
    <div>
        <figure class="d-flex" id="starImage">
            <img src="images/star.gif">
            <img src="images/star.gif">
            <img src="images/star.gif">
            <img src="images/star.gif">
            <img src="images/star.gif">
        </figure>
    </div>
    <div id="score"></div>
    <button id="resetBtn" onclick="resetScore()">Reset</button>

    <script src="https://code.jquery.com/jquery-3.6.0.js"
    integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>
    <script>
        var setScore = 0;

        $("img")
        .mouseenter(function(){
            //check whether score had been set
            if (setScore == 0){
            
            //img
            $(this).attr("src", "images/chngstar.gif")
            .prevAll("img").attr("src", "images/chngstar.gif");

            //text
            $("#score").text(($(this).index()+1) + "顆星");
            }
        }).mouseleave(function(){
            //check whether score had been set
            if (setScore == 0){

            //img
            $(this).attr("src", "images/star.gif")
            .prevAll("img").attr("src", "images/star.gif");

            //text
            $("#score").text("");
            }
        }).click(function(){
            //check whether score had been set
            if (setScore == 0){
            
            //img
            $(this).attr("src", "images/chngstar.gif")
            .prevAll("img").attr("src", "images/chngstar.gif");

            //text
            $("#score").text("設定評價為" + ($(this).index()+1) + "顆星");
            setScore = 1;
            }
        })
        
        function resetScore(){
            //reset the check
            setScore = 0;
            
            //reset image
            $("#starImage").find("*").attr("src", "images/star.gif");

            //reset score text output
            $("#score").text("");
        }
    </script>
</div> 
</body>
</html>